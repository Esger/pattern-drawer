<template>
    <require from="./tools.css"></require>
    <button type="button"
            class="tools__button tools__button--toggleTools"
            title="Tools"
            click.delegate="toggleVisibility('tools')">=</button>

    <div class="tools ${visibility.tools ? '' : 'hidden'}">
        <div class="submenu ${visibility.repetitions ? '' : 'hidden'}">
            <input type="checkbox"
                name="linkRepetions"
                class="repetitions__link"
                checked.bind="visibility.repetitionsY">
            <input type="range"
                class="repetitions__x"
                min="1"
                max="10"
                step="2"
                input.delegate="setrepetitions()"
                value.bind="repetitions.x">
            <input type="range"
                class="repetitions__y ${visibility.repetitionsY ? '' : 'hidden'}"
                min="1"
                max="10"
                step="2"
                input.delegate="setrepetitions()"
                value.bind="repetitions.y">
        </div>
        <button type="button"
                class="tools__button tools__button--grid"
                title="Repetitions"
                click.delegate="toggleVisibility('repetitions')">🌐</button>
        <button type="button"
                class="tools__button ${!isDrawing ? 'tools__button--active' : ''}"
                title="Worm"
                click.delegate="isDrawing && worm()">🪱</button>
        <button type="button"
                class="tools__button ${isDrawing ? 'tools__button--active' : ''}"
                title="Draw"
                click.delegate="!isDrawing && draw()">✏️</button>
        <button type="button"
                class="tools__button tools__button--color"
                title="Line color">
                🎨
                <input class="colorInput" 
                    type="color" 
                    input.delegate="setLineColor()"
                    value.bind="lineColor">
        </button>
        <div class="submenu ${visibility.lineWidth ? '' : 'hidden'}">
            <input type="range"
                class="lineWidth"
                min="1"
                max="20"
                step.bind="1"
                input.delegate="setLineWidth()"
                value.bind="lineWidth">
        </div>
        <button type="button"
                class="tools__button"
                title="Line width"
                click.delegate="toggleVisibility('lineWidth')">⭕</button>
        <button if.bind="isDrawing"
                type="button"
                class="tools__button"
                title="Erase"
                click.delegate="erase()">🗑️</button>
    </div>
</template>
