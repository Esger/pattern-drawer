<template>
    <require from="./tools.css"></require>
    <button type="button"
            class="tools__button tools__button--toggleTools"
            title="Tools"
            click.delegate="toggleVisibility('tools')">=</button>

    <div class="tools ${visibility.tools ? '' : 'hidden'}">
        <button type="button"
                class="tools__button ${isDrawing ? 'tools__button--active' : 'tools__button--hidden'}"
                title="Worm"
                click.delegate="isDrawing && worm()">🪱</button>
        <button type="button"
                class="tools__button ${!isDrawing ? 'tools__button--active' : 'tools__button--hidden'}"
                title="Draw"
                click.delegate="!isDrawing && draw()">✏️</button>
        <div class="submenu ${visibility.repetitions ? '' : 'hidden'}">
            <input type="checkbox"
                name="linkRepetions"
                class="repetitions__link"
                checked.bind="visibility.repetitionsY">
            <input type="range"
                class="repetitions__x"
                min="1"
                max="11"
                step="2"
                input.delegate="setrepetitions()"
                value.bind="drawSettings.repetitions[0]">
            <input type="range"
                class="repetitions__y ${visibility.repetitionsY ? '' : 'hidden'}"
                min="1"
                max="11"
                step="2"
                input.delegate="setrepetitions()"
                value.bind="drawSettings.repetitions[1]">
        </div>
        <button type="button"
                class="tools__button tools__button--grid"
                title="Repetitions"
                click.delegate="toggleVisibility('repetitions')">🌐</button>
        <div class="submenu ${visibility.lineWidth ? '' : 'hidden'}">
            <input type="range"
                    class="lineWidth"
                    min="1"
                    max="20"
                    step="1"
                    input.delegate="setLineWidth()"
                    value.bind="drawSettings.lineWidth">
        </div>
        <button type="button"
                class="tools__button"
                title="Line width"
                click.delegate="toggleVisibility('lineWidth')">📶</button>
        <button type="button"
                class="tools__button tools__button--color"
                title="Line color">
                🎨
                <input class="colorInput" 
                    type="color" 
                    data-color.bind="drawSettings.lineColor"
                    input.delegate="setLineColor()"
                    value.bind="drawSettings.lineColor">
                </button>
        <button if.bind="isDrawing"
                type="button"
                class="tools__button"
                title="Undo"
                click.delegate="undo()">⬅️</button>
        <button if.bind="isDrawing"
                type="button"
                class="tools__button"
                title="Erase"
                click.delegate="erase()">🗑️</button>
    </div>
</template>
