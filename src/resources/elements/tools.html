<template>
    <require from="./tools.css"></require>
    <button type="button"
            class="tools__button tools__button--toggleTools material-icons md-36"
            title="Tools"
            click.delegate="toggleVisibility('tools')">menu</button>

    <div class="tools ${settings.visibility.tools ? '' : 'hidden'}">
        <button type="button"
                class="tools__button material-icons md-36 ${isDrawing ? '' : 'tools__button--hidden'}"
                title="Worm"
                click.delegate="isDrawing && worm()">all_inclusive</button>
        <button type="button"
                class="tools__button material-icons md-36 ${!isDrawing ? '' : 'tools__button--hidden'}"
                title="Draw"
                click.delegate="!isDrawing && draw()">draw</button>
        <div class="submenu ${settings.visibility.rotation ? '' : 'hidden'}">
            <input type="range"
                class="rotation"
                min="0"
                max="120"
                step="15"
                title="${settings.draw.rotation + 'Â°'}"
                input.delegate="setRotation()"
                value.bind="settings.draw.rotation">
        </div>
        <button type="button"
                class="tools__button material-icons md-36"
                title="Rotation"
                click.delegate="toggleVisibility('rotation')">settings_backup_restore</button>
        <div class="submenu ${settings.visibility.repetitions ? '' : 'hidden'}">
            <input type="checkbox"
                name="linkRepetitions"
                class="repetitions__link"
                checked.bind="repetitionsYvisible">
            <input type="range"
                class="repetitions__x"
                min="1"
                max="11"
                step="2"
                title="${settings.draw.repetitions[0] + ' horizontal'}"
                input.delegate="setGrid()"
                value.bind="settings.draw.repetitions[0]">
            <input type="range"
                class="repetitions__y ${repetitionsYvisible ? '' : 'hidden'}"
                min="1"
                max="11"
                step="2"
                title="${settings.draw.repetitions[1] + ' vertical'}"
                input.delegate="setGrid()"
                value.bind="settings.draw.repetitions[1]">
        </div>
        <button type="button"
                class="tools__button material-icons md-36"
                title="Grid size"
                click.delegate="toggleVisibility('repetitions')">grid_4x4</button>
        <div class="submenu ${settings.visibility.lineLength && !isDrawing ? '' : 'hidden'}">
            <input type="range"
                    class="lineLength"
                    min="1"
                    max="50"
                    step="1"
                    title="${settings.draw.lineLength}"
                    input.delegate="setLineLength()"
                    value.bind="settings.draw.lineLength">
        </div>
        <button if.bind="!isDrawing"
                type="button"
                class="tools__button tools__button--90deg material-icons md-36"
                title="Line length"
                click.delegate="toggleVisibility('lineLength')">height</button>
        <div class="submenu ${settings.visibility.lineWidth ? '' : 'hidden'}">
            <input type="range"
                    class="lineWidth"
                    min="1"
                    max="20"
                    step="1"
                    title="${settings.draw.lineWidth + 'px'}"
                    input.delegate="setLineWidth()"
                    value.bind="settings.draw.lineWidth">
        </div>
        <button type="button"
                class="tools__button material-icons md-36"
                title="Line width"
                click.delegate="toggleVisibility('lineWidth')">line_weight</button>
        <button type="button"
                class="tools__button material-icons md-36"
                title="${'Line color ' + settings.draw.lineColor}">palette
                <input class="colorInput" 
                    type="color" 
                    data-color.bind="settings.draw.lineColor"
                    input.delegate="setLineColor()"
                    value.bind="settings.draw.lineColor">
                </button>
        <button if.bind="isDrawing"
                type="button"
                class="tools__button material-icons md-36"
                title="Undo"
                click.delegate="undo()">undo</button>
        <button if.bind="isDrawing"
                type="button"
                class="tools__button material-icons md-36"
                title="Erase"
                click.delegate="erase()">delete</button>
    </div>
</template>
